<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Creating Links</title>
<link href="_css/styles.css" rel="stylesheet" type="text/css">
</head>
<body>
Comp 484 
Creating Links
<ul>
  <li><a href="index.html" title="Introduction to HTML">Introduction to HTML</a></li>
  <li><a href="syntax.html" title="HTML syntax">HTML syntax</a></li>
  <li><a href="links.html" title="Creating links">Creating links</a></li>
  <li><a href="reference.html" title="HTML Reference">HTML reference</a></li>
  <li><a href="next.html" title="Next steps">Next steps</a></li>
</ul>
<p>Perhaps the most important aspect of HTML is the ability to link from one document to another. This is the basic concept underlying   the web and without this functionality the World Wide Web would not exist. </p>
Link syntax
<p>Creating links is relatively straightforward, and the syntax provides a lot of flexibility in where and how links are applied. To create a link, you&rsquo;ll use the anchor element (&lt;a&gt;) to wrap the content you wish to convert to a link.&nbsp; Attributes inside the anchor tag tell the browser where the page is linking to, or point to an external resource that the browser should download.<br>
  Take the following link example:</p>
<pre>&lt;a href=&rdquo;syntax.htm&rdquo; title=&rdquo;learn more about syntax&rdquo;&gt;HTML syntax&lt;/a&gt;</pre>
<p>Here the text &ldquo;HTML syntax&rdquo; would now appear as a clickable link. The <b>href</b> attribute tells the browser how to <em>resolve</em> the link; that is where the user should be directed when the link is clicked. The optional <b>title</b> attribute provides a description of the link and is helpful in making the link more accessible.</p>
Link types
<p>There are three basic types of link: <b>absolute</b>, <b>site-root relative</b>, and <b>document relative</b>. Each of these types refers to the value of the <b>href</b> attribute, which directs how the browser should resolve a link once the link has been clicked. </p>
Absolute links
<p>These links contain the entire URL necessary to resolve a link, including the protocol. This is usually done for external links, which are links to pages outside of the current site. Here&rsquo;s an example of an absolute link:</p>
<pre>&lt;a href=&rdquo;http://www.google.com&rdquo; title=&rdquo;You can find it at google.com!&rdquo;&gt;google.com&lt;/a&gt;</pre>
Document relative links
<p>These links are commonly used to navigate internally within a site. For example, if you were on the home page of your site, and wanted to navigate to the contact page, you simply provide the path from the home page to the contact page for the <b>href</b> value. Doing this requires you to understand the directory structure of your site, and when you need to navigate into, or out of, folders. Take the following example:</p>
<pre>&lt;a href=&rdquo;contact.htm&rdquo; title=&rdquo;our contact page&rdquo;&gt;Contact us&lt;/a&gt;</pre>
<p>This link assumes that the contact page and the current page are in the same directory. If the contact page were located in a directory below the current page, the link would look like this:</p>
<pre>&lt;a href=&rdquo;resources/contact.htm&rdquo; title=&rdquo;our contact page&rdquo;&gt;Contact us&lt;/a&gt;</pre>
<p>This assumes the contact page is in a directory titled &ldquo;resources&rdquo; and is one level below the current page. To move <b>out</b> of a directory, you precede the page with the &ldquo;../&rdquo; characters. In this case of our contact link it would look like this:</p>
<pre>&lt;a href=&rdquo;../contact.htm&rdquo; title=&rdquo;our contact page&rdquo;&gt;Contact us&lt;/a&gt;</pre>
<p> This link would move up from the current directory and find the contact.htm page in the parent directory. You can use as many of these &ldquo;../&rdquo; as you need to move up and properly resolve the link.</p>
Site-Root Relative Links
<p> These are similar to document relative links, but start at the root folder for the site and then move down through directories to the desired page. Unlike document relative links, which depend on the current location of the page to properly resolve links, site-root relative links are written the same no matter the current location within your site. All links are preceded by a forward slash (/) that refers to the root directory. Here&rsquo;s an example:</p>
<pre>&lt;a href=&rdquo;/contact.htm&rdquo; title=&rdquo;our contact page&rdquo;&gt;Contact us&lt;/a&gt;</pre>
<p> In this example, the link is resolved by going directly into the site&rsquo;s root folder and finding the contact page. If the contact page were located deeper within the site, the link would look like this:</p>
<pre>&lt;a href=&rdquo;/resources/contact.htm&rdquo; title=&rdquo;our contact page&rdquo;&gt;Contact us&lt;/a&gt;</pre>
Fragment identifiers
<p>Occasionally you&rsquo;ll want a link to refer to a specific location within a page. This can be done using a special kind of link called a fragment identifier. These links point to elements with a specific <b>ID</b> attribute. Let&rsquo;s say, for example, you have a long list of <b>FAQs</b> on a page organized by categories and you had a heading at the top of each category. If you assigned each heading an ID attribute, you could use those IDs to create a links that jump to specific categories. For example, you could format the Camping FAQs heading like this:</p>
<pre>&lt;h2 id=&rdquo;camp&rdquo;&gt;Camping&lt;/h2&gt;</pre>
<p> Elsewhere on the page you could link to this section by creating the following link:</p>
<pre>&lt;a href=&rdquo;#camp&rdquo;&gt;Learn more about camping&lt;/a&gt;</pre>
<p> Note the hash symbol (#) prior to the ID value. This tells the browser to look for an element with the ID value that follows.You can link to fragment identifiers on external pages as well. Simply append the fragment identifier to the URL and the link will jump to not only to that page, but that specific section as well.</p>
<pre>&lt;a href=&rdquo;faq.htm#camp&rdquo;&gt;Read our FAQ on camping.&lt;/a&gt;</pre>
<!-- FINAL: Video Ad Modal -->
<div id="videoAdOverlay" class="video-ad-overlay" aria-hidden="true">
  <div class="video-ad-box" role="dialog" aria-modal="true" aria-label="Video advertisement">
    <div class="video-ad-top">
      <div class="video-ad-top-left">
        <div id="videoAdTimer">Ad ends in: --s</div>
        <div id="videoAdStatus" aria-live="polite"></div>
      </div>
      <div class="video-ad-controls">
<button id="videoAdSkip" class="video-ad-skip" type="button">Skip (0/3)</button>
      </div>
    </div>

    <video id="videoAdVideo" class="video-ad-video" playsinline muted>
      <source src="Videos/LegoCity_AD.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <div class="video-ad-progress-wrap">
      <progress id="videoAdProgress" class="video-ad-progress" value="0" max="100"></progress>
    </div>
  </div>
</div>

<audio id="catLaugh" preload="auto" src="Videos/catLaugh.mp3"></audio>

<script>
/* FINAL: minimal JS to (1) start video reliably, (2) update progress/timer, (3) 3-click fake skip + sound + khat */
(function () {
  const overlay = document.getElementById("videoAdOverlay");
  const video = document.getElementById("videoAdVideo");
  const prog = document.getElementById("videoAdProgress");
  const timer = document.getElementById("videoAdTimer");
  const status = document.getElementById("videoAdStatus");
  const skipBtn = document.getElementById("videoAdSkip");
const laugh = document.getElementById("catLaugh");

  if (!overlay || !video || !prog || !timer || !skipBtn) return;

  // Show the modal immediately
  overlay.classList.add("show");
  overlay.setAttribute("aria-hidden", "false");

  function tryPlay() {
    // Muted autoplay is allowed on most browsers, but still may fail; we handle failure with a user gesture fallback.
    video.muted = true;
    const p = video.play();
    if (p && typeof p.catch === "function") {
      p.catch(() => {
        if (status) status.textContent = "Click anywhere to start. Sound may require a click ðŸ”Š";
      });
    }
  }

  // Attempt play after metadata and also immediately
  video.addEventListener("loadedmetadata", () => {
    // If the video is vertical, make the modal narrower so it looks like a short
    try {
      if (video.videoHeight > video.videoWidth) {
        const box = overlay.querySelector(".video-ad-box");
        if (box) box.style.width = "min(520px, 92vw)";
      }
    } catch (e) {}
    tryPlay();
  }, { once: true });
  tryPlay();

  // Fallback: first user interaction starts video if autoplay was blocked
  function gestureStart() {
    if (video.paused) {
      if (status) status.textContent = "";
      tryPlay();
    }
    // User gesture: allow audio now
    video.muted = false;
    window.removeEventListener("pointerdown", gestureStart);
    window.removeEventListener("keydown", gestureStart);
  }
  window.addEventListener("pointerdown", gestureStart);
  window.addEventListener("keydown", gestureStart);

  function updateUI() {
    const dur = video.duration || 0;
    const cur = video.currentTime || 0;

    if (dur > 0) {
      const remaining = Math.max(0, Math.ceil(dur - cur));
      timer.textContent = "Ad ends in: " + remaining + "s";
      prog.value = Math.min(100, Math.max(0, (cur / dur) * 100));
    } else {
      timer.textContent = "Ad ends in: --s";
      prog.value = 0;
    }
  }
  video.addEventListener("timeupdate", updateUI);
  video.addEventListener("loadedmetadata", updateUI);

  /* lock playback (no pause/seek) */
  let lastTime = 0;
  let allowClose = false;
  video.addEventListener("seeking", () => {
    // snap back if user tries to scrub
    if (!allowClose) {
      const t = Math.min(lastTime, (video.duration || lastTime));
      try { video.currentTime = t; } catch (e) {}
    }
  });
  video.addEventListener("pause", () => {
    if (!allowClose) {
      const p3 = video.play();
      if (p3 && typeof p3.catch === "function") p3.catch(() => {});
    }
  });
  video.addEventListener("timeupdate", () => { lastTime = video.currentTime || lastTime; });
  video.addEventListener("contextmenu", (e) => e.preventDefault());


  function showKhat() {
    const wrap = document.createElement("div");
    wrap.className = "khat-pop";
    const im = document.createElement("img");
    im.src = "images/ADspace/khat.gif";
    im.alt = "khat";
    wrap.appendChild(im);
    document.body.appendChild(wrap);

    setTimeout(() => wrap.classList.add("fade"), 450);
    setTimeout(() => wrap.remove(), 950);
  }

  function playLaugh() {
    if (!laugh) return;
    laugh.currentTime = 0;
    laugh.play().catch(() => {});
  }
  let clicks = 0;
  skipBtn.addEventListener("click", () => {
    clicks = Math.min(3, clicks + 1);
    skipBtn.textContent = "Skip (" + clicks + "/3)";
    playLaugh();
    showKhat();

    if (clicks >= 3) {
      allowClose = true;
      video.pause();
      overlay.classList.remove("show");
      overlay.setAttribute("aria-hidden", "true");
    }
  });

  video.addEventListener("ended", () => {
    allowClose = true;
    overlay.classList.remove("show");
    overlay.setAttribute("aria-hidden", "true");
  });

  // Create layered static ad popups above the video
  const staticAds = ["images/ADspace/Binking.JPG", "images/ADspace/Burger.jpg", "images/ADspace/Butter.jpg", "images/ADspace/Handshake.JPG", "images/ADspace/im_ALPHA.jpg", "images/ADspace/Indeed.JPG", "images/ADspace/InternshipAD.JPG", "images/ADspace/pranko-funny-ads.png", "images/ADspace/studentLoans.jpg", "images/ADspace/unemployment.JPG"];
  const count = Math.min(4, staticAds.length); // 4 layered ads
  for (let i = 0; i < count; i++) {
    const sOverlay = document.createElement("div");
    sOverlay.className = "static-ad-overlay show";
    sOverlay.style.zIndex = String(11000 + i); // above video
    sOverlay.setAttribute("aria-hidden", "false");

    const box = document.createElement("div");
    box.className = "static-ad-box";
    box.setAttribute("role", "dialog");
    box.setAttribute("aria-modal", "true");
    box.setAttribute("aria-label", "Image advertisement");

    const top = document.createElement("div");
    top.className = "static-ad-top";

    const label = document.createElement("div");
    label.className = "static-ad-label";
    label.textContent = "Advertisement";

    const close = document.createElement("button");
    close.className = "static-ad-close";
    close.type = "button";
    close.setAttribute("aria-label", "Close");
    close.textContent = "Ã—";

    top.appendChild(label);
    top.appendChild(close);

    const img = document.createElement("img");
    img.className = "static-ad-image";
    img.alt = "Ad";
    img.src = staticAds[(i) % staticAds.length];

    box.appendChild(top);
    box.appendChild(img);
    sOverlay.appendChild(box);
    document.body.appendChild(sOverlay);

    close.addEventListener("click", () => sOverlay.remove());
  }
})();
</script>

</body>
</html>
