<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Introduction to HTML</title>
<link href="_css/styles.css" rel="stylesheet" type="text/css">
</head>
<body>
Comp 484
Structuring Pages
<ul>
  <li><a href="index.html" title="Introduction to HTML">Introduction to HTML</a></li>
  <li><a href="syntax.html" title="HTML syntax">HTML syntax</a></li>
  <li><a href="structure.html" title="Structuring pages">Structuring pages</a></li>
  <li><a href="links.html" title="Creating links">Creating links</a></li>
  <li><a href="reference.html" title="HTML Reference">HTML reference</a></li>
  <li><a href="next.html" title="Next steps">Next steps</a></li>
</ul>
Conveying meaning through structure 
<p>Creating properly structured pages is the foundation of any good website. A solid semantic structure allows you to convey meaning and properly represent content types through nothing more than the page's markup. This, in turn, makes your content more accessible, easier to index and search, and makes it easier to repurpose. Remember that there are a lot of different devices, robots, and other user agents that will be reading your code. <em>Without a consistent, semantic structure your site will be less effective.</em> </p>
<h3>Sectioning elements </h3>
<p>One way to add meaning to your content is to organize them into sections that convey meaning and structure. For example it's pretty standard to contain introductory information within a section, page navigation within its own area, the page's main content in its own region, and related information within a sidebar. HTML contains numerous elements that are designed to assist in the logical structuring and semantics of page content. </p>
<p>In previous versions of HTML creating new sections of content was done almost exclusively through the use of <b>heading</b> tags, with <b>divs</b> being used to group areas of content together. <b>Class</b> or <b>ID</b> attributes would allow designers to attach more semantic meaning to the groups, although this meant little to most user agents. In HTML5 new sectioning and semantic elements were introduced to help represent commonly used sections and create more consistent page structures. Tags like the <b>aside</b>, <b>article</b>, <b>footer</b>, <b>header</b>, <b>main</b>, <b>nav</b>, and <b>section</b> allow authors to identify common page regions and convey more semantic meaning. </p>
<p>Although some of these elements are very specific, in many cases which element you'll use and how you'll structure them is very much a judgment call. Make sure, however, that your finished structure represents the desired document outline. </p>
Document outlines 
<p>One of the fundamental concepts of HTML is that its documents can be represented by a document outline that summarizes the content of the page. Imagine a page being represented by a table of contents and you'll have a good idea of what one of these outlines might look like. These outlines assist in tasks such as quickly searching documents and making content easier to navigate for assistive devices. </p>
<p>Prior to HTML5, document outlines were generated entirely through the use of headings. An H1 at the top of the page would serve to identify the page content, and subsequent headings would create sections and subsections inside of it. This meant that having a strategy for when to use certain headings was critical for maintaining consistent document structure. In HTML5 a new outline algorithm was introduced that added the new sectioning elements to the heading elements and created a more sophisticated outlining model. Although not currently implemented by user agents it is still recommended that authors familiarize themselves with it so that they're using the new sectioning and semantic tags properly. </p>
<p>It is still considered to be a best practice to use heading tags to establish the document outline. Mozilla has a fantastic article on sections and outlines in HTML documents that I strongly recommend reading.</p>
W3C Warning
<p>At the time of the authoring of this course, the W3C had posted this warning regarding the HTML5 outline algorithm:</p>
<blockquote>There are currently no known implementations of the outline algorithm in graphical browsers or assistive technology user agents, although the algorithm is implemented in other software such as conformance checkers. Therefore the outline algorithm cannot be relied upon to convey document structure to users. Authors are advised to use heading rank (h1-h6) to convey document structure.</blockquote>
WAI-ARIA Roles
<p>Carefully structuring an HTML page is the first step into ensuring that the content is accessible to all users. You should also use WAI-ARIA role attributes where appropriate to increase accessibility and improve semantics. WAI-ARIA is short for the Web Accessibility Initiative's Accessible Rich Internet Application specification. The roles attribute attempts to identify content and its capabilities by assigning it to a predefined role. This helps assistive devices understand what the content is, how it relates to other content, and how the content can be interacted with. The W3C has a fantastic resource on how WAI-ARIA works and how it should be used with HTML.</p>
<!-- FINAL: Video Ad Modal -->
<div id="videoAdOverlay" class="video-ad-overlay" aria-hidden="true">
  <div class="video-ad-box" role="dialog" aria-modal="true" aria-label="Video advertisement">
    <div class="video-ad-top">
      <div class="video-ad-top-left">
        <div id="videoAdTimer">Ad ends in: --s</div>
        <div id="videoAdStatus" aria-live="polite"></div>
      </div>
      <div class="video-ad-controls">
        <button id="videoAdUnmute" class="video-ad-skip" type="button">Unmute</button>
        <button id="videoAdSkip" class="video-ad-skip" type="button">Skip (0/3)</button>
      </div>
    </div>

    <video id="videoAdVideo" class="video-ad-video" playsinline muted>
      <source src="Videos/Result.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <div class="video-ad-progress-wrap">
      <progress id="videoAdProgress" class="video-ad-progress" value="0" max="100"></progress>
    </div>
  </div>
</div>

<audio id="catLaugh" preload="auto" src="Videos/catLaugh.mp3"></audio>

<script>
/* FINAL: minimal JS to (1) start video reliably, (2) update progress/timer, (3) 3-click fake skip + sound + khat */
(function () {
  const overlay = document.getElementById("videoAdOverlay");
  const video = document.getElementById("videoAdVideo");
  const prog = document.getElementById("videoAdProgress");
  const timer = document.getElementById("videoAdTimer");
  const status = document.getElementById("videoAdStatus");
  const skipBtn = document.getElementById("videoAdSkip");
  const unmuteBtn = document.getElementById("videoAdUnmute");
  const laugh = document.getElementById("catLaugh");

  if (!overlay || !video || !prog || !timer || !skipBtn) return;

  // Show the modal immediately
  overlay.classList.add("show");
  overlay.setAttribute("aria-hidden", "false");

  function tryPlay() {
    // Muted autoplay is allowed on most browsers, but still may fail; we handle failure with a user gesture fallback.
    video.muted = true;
    const p = video.play();
    if (p && typeof p.catch === "function") {
      p.catch(() => {
        if (status) status.textContent = "Click anywhere to start. Use Unmute for sound ðŸ”Š";
      });
    }
  }

  // Attempt play after metadata and also immediately
  video.addEventListener("loadedmetadata", () => {
    // If the video is vertical, make the modal narrower so it looks like a short
    try {
      if (video.videoHeight > video.videoWidth) {
        const box = overlay.querySelector(".video-ad-box");
        if (box) box.style.width = "min(520px, 92vw)";
      }
    } catch (e) {}
    tryPlay();
  }, { once: true });
  tryPlay();

  // Fallback: first user interaction starts video if autoplay was blocked
  function gestureStart() {
    if (video.paused) {
      if (status) status.textContent = "";
      tryPlay();
    }
    // User gesture: allow audio now
    video.muted = false;
    window.removeEventListener("pointerdown", gestureStart);
    window.removeEventListener("keydown", gestureStart);
  }
  window.addEventListener("pointerdown", gestureStart);
  window.addEventListener("keydown", gestureStart);

  function updateUI() {
    const dur = video.duration || 0;
    const cur = video.currentTime || 0;

    if (dur > 0) {
      const remaining = Math.max(0, Math.ceil(dur - cur));
      timer.textContent = "Ad ends in: " + remaining + "s";
      prog.value = Math.min(100, Math.max(0, (cur / dur) * 100));
    } else {
      timer.textContent = "Ad ends in: --s";
      prog.value = 0;
    }
  }
  video.addEventListener("timeupdate", updateUI);
  video.addEventListener("loadedmetadata", updateUI);

  /* lock playback (no pause/seek) */
  let lastTime = 0;
  let allowClose = false;
  video.addEventListener("seeking", () => {
    // snap back if user tries to scrub
    if (!allowClose) {
      const t = Math.min(lastTime, (video.duration || lastTime));
      try { video.currentTime = t; } catch (e) {}
    }
  });
  video.addEventListener("pause", () => {
    if (!allowClose) {
      const p3 = video.play();
      if (p3 && typeof p3.catch === "function") p3.catch(() => {});
    }
  });
  video.addEventListener("timeupdate", () => { lastTime = video.currentTime || lastTime; });
  video.addEventListener("contextmenu", (e) => e.preventDefault());


  function showKhat() {
    const wrap = document.createElement("div");
    wrap.className = "khat-pop";
    const im = document.createElement("img");
    im.src = "images/ADspace/khat.gif";
    im.alt = "khat";
    wrap.appendChild(im);
    document.body.appendChild(wrap);

    setTimeout(() => wrap.classList.add("fade"), 450);
    setTimeout(() => wrap.remove(), 950);
  }

  function playLaugh() {
    if (!laugh) return;
    laugh.currentTime = 0;
    laugh.play().catch(() => {});
  }

  if (unmuteBtn) {
    unmuteBtn.addEventListener("click", () => {
      video.muted = false;
      // some browsers require a play() after unmuting
      const p2 = video.play();
      if (p2 && typeof p2.catch === "function") p2.catch(() => {});
    });
  }

  let clicks = 0;
  skipBtn.addEventListener("click", () => {
    clicks = Math.min(3, clicks + 1);
    skipBtn.textContent = "Skip (" + clicks + "/3)";
    playLaugh();
    showKhat();

    if (clicks >= 3) {
      allowClose = true;
      video.pause();
      overlay.classList.remove("show");
      overlay.setAttribute("aria-hidden", "true");
    }
  });

  video.addEventListener("ended", () => {
    allowClose = true;
    overlay.classList.remove("show");
    overlay.setAttribute("aria-hidden", "true");
  });

  // Create layered static ad popups above the video
  const staticAds = ["images/ADspace/Binking.JPG", "images/ADspace/Burger.jpg", "images/ADspace/Butter.jpg", "images/ADspace/Handshake.JPG", "images/ADspace/im_ALPHA.jpg", "images/ADspace/Indeed.JPG", "images/ADspace/InternshipAD.JPG", "images/ADspace/pranko-funny-ads.png", "images/ADspace/studentLoans.jpg", "images/ADspace/unemployment.JPG"];
  const count = Math.min(4, staticAds.length); // 4 layered ads
  for (let i = 0; i < count; i++) {
    const sOverlay = document.createElement("div");
    sOverlay.className = "static-ad-overlay show";
    sOverlay.style.zIndex = String(11000 + i); // above video
    sOverlay.setAttribute("aria-hidden", "false");

    const box = document.createElement("div");
    box.className = "static-ad-box";
    box.setAttribute("role", "dialog");
    box.setAttribute("aria-modal", "true");
    box.setAttribute("aria-label", "Image advertisement");

    const top = document.createElement("div");
    top.className = "static-ad-top";

    const label = document.createElement("div");
    label.className = "static-ad-label";
    label.textContent = "Advertisement";

    const close = document.createElement("button");
    close.className = "static-ad-close";
    close.type = "button";
    close.setAttribute("aria-label", "Close");
    close.textContent = "Ã—";

    top.appendChild(label);
    top.appendChild(close);

    const img = document.createElement("img");
    img.className = "static-ad-image";
    img.alt = "Ad";
    img.src = staticAds[(i) % staticAds.length];

    box.appendChild(top);
    box.appendChild(img);
    sOverlay.appendChild(box);
    document.body.appendChild(sOverlay);

    close.addEventListener("click", () => sOverlay.remove());
  }
})();
</script>

</body>
</html>
